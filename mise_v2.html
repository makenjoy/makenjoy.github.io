<!DOCTYPE html>
<!--
M   M         k                      JJJ                                   t
M M M   aa    k   k   eee    nnn       J   ooo   y   y      nnn    eee   ttttt
M   M  a  a   k k    eeeee  n   n  J   J  o   o   y y      n   n  eeeee    t
M   M   aa a  k   k   eee   n   n   JJJ    ooo     y    O  n   n   eee      tt
                                                  y
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		  
    <title>CITY_AIR</title>

</head>

<body>

<table>

    <tr align="right">
        <th>측정일시</th>
        <td align="left" id="gn_measuredate"></td>
    </tr>
    <!--
    <tr align="right">
        <th>권역명</th>
        <td align="left" id="gn_divisionarea"></td>
    </tr>
    -->
    <tr align="right">
        <th>측정소명</th>
        <td align="left" id="gn"></td>

    </tr>
    <tr align="right">
        <th>미세먼지 기준: 50(㎍/㎥)</th>
        <td align="left" id="gn_finedust"></td>
    </tr>
    <tr align="right">
        <th>초미세먼지 기준: 35(㎍/㎥)</th>
        <td align="left" id="gn_ultrafinedust"></td>
    </tr>
	<!--
    <tr align="right">
        <th><br/></th>
        <td align="left" id=""></td>
    </tr>
	-->
    <tr align="right">
        <th>오존 기준: 0.06(ppm)</th>
        <td align="left" id="gn_ozone"></td>
    </tr>

	<!--
	<tr align="right">
        <th>이산화질소농도(ppm)</th>
        <td align="left" id="gn_nitrogendioxide"></td>
    </tr>
    <tr align="right">
        <th>일산화탄소농도(ppm)</th>
        <td align="left" id="gn_carbonmonoxide"></td>
    </tr>
    <tr align="right">
        <th>아황산가스농도(ppm)</th>
        <td align="left" id="gn_sulfurousacidgas"></td>
    </tr>
    <tr align="right">
        <th>통합대기환경등급</th>
        <td align="left" id="gn_totalat_class"></td>
    </tr>
    <tr align="right">
        <th>통합대기환경지수</th>
        <td align="left" id="gn_totalat_index"></td>
    </tr>
    <tr align="right">
        <th>지수결정물질</th>
        <td align="left" id="gn_mainarticle"></td>
    </tr>
	-->

</table>

<hr/>

<table>
    <!--
    <tr align="right">
        <th align="right">총 데이터 건수</th>
        <td align="left" id="my1"></td>
    </tr>
    <tr align="right">
        <th>요청결과 코드</th>
        <td align="left" id="my2"></td>
    </tr>
    <tr align="right">
        <th>요청결과 메시지</th>
        <td align="left" id="my3"></td>
    </tr>
    <tr align="right">
        <th><br/></th>
        <td align="left" id=""></td>
    </tr>
    -->
    <tr align="right">
        <th>측정일시</th>
        <td align="left" id="sh_measuredate"></td>
    </tr>
    <!--
    <tr align="right">
        <th>권역명</th>
        <td align="left" id="jn_divisionarea"></td>
    </tr>
    -->
    <tr align="right">
        <th>측정소명</th>
        <td align="left" id="sh"></td>

    </tr>
    <tr align="right">
        <th>미세먼지 기준: 50(㎍/㎥)</th>
        <td align="left" id="sh_finedust"></td>
    </tr>
    <tr align="right">
        <th>초미세먼지 기준: 35(㎍/㎥)</th>
        <td align="left" id="sh_ultrafinedust"></td>
    </tr>
    <tr align="right">
        <th>오존 기준: 0.06(ppm)</th>
        <td align="left" id="sh_ozone"></td>
    </tr>
	
	<!--
    <tr align="right">
        <th>이산화질소농도(ppm)</th>
        <td align="left" id="jn_nitrogendioxide"></td>
    </tr>
    <tr align="right">
        <th>일산화탄소농도(ppm)</th>
        <td align="left" id="jn_carbonmonoxide"></td>
    </tr>
    <tr align="right">
        <th>아황산가스농도(ppm)</th>
        <td align="left" id="jn_sulfurousacidgas"></td>
    </tr>
    <tr align="right">
        <th>통합대기환경등급</th>
        <td align="left" id="jn_totalat_class"></td>
    </tr>
    <tr align="right">
        <th>통합대기환경지수</th>
        <td align="left" id="jn_totalat_index"></td>
    </tr>
    <tr align="right">
        <th>지수결정물질</th>
        <td align="left" id="jn_mainarticle"></td>
    </tr>
	
	-->

</table>

<hr/>

<table>
    <!--
    <tr align="right">
        <th align="right">총 데이터 건수</th>
        <td align="left" id="my1"></td>
    </tr>
    <tr align="right">
        <th>요청결과 코드</th>
        <td align="left" id="my2"></td>
    </tr>
    <tr align="right">
        <th>요청결과 메시지</th>
        <td align="left" id="my3"></td>
    </tr>
    <tr align="right">
        <th><br/></th>
        <td align="left" id=""></td>
    </tr>
    -->
    <tr align="right">
        <th>측정일시</th>
        <td align="left" id="jn_measuredate"></td>
    </tr>
    <!--
    <tr align="right">
        <th>권역명</th>
        <td align="left" id="jn_divisionarea"></td>
    </tr>
    -->
    <tr align="right">
        <th>측정소명</th>
        <td align="left" id="jn"></td>

    </tr>
    <tr align="right">
        <th>미세먼지 기준: 50(㎍/㎥)</th>
        <td align="left" id="jn_finedust"></td>
    </tr>
    <tr align="right">
        <th>초미세먼지 기준: 35(㎍/㎥)</th>
        <td align="left" id="jn_ultrafinedust"></td>
    </tr>
    <tr align="right">
        <th>오존 기준: 0.06(ppm)</th>
        <td align="left" id="jn_ozone"></td>
    </tr>
	
	<!--
    <tr align="right">
        <th>이산화질소농도(ppm)</th>
        <td align="left" id="jn_nitrogendioxide"></td>
    </tr>
    <tr align="right">
        <th>일산화탄소농도(ppm)</th>
        <td align="left" id="jn_carbonmonoxide"></td>
    </tr>
    <tr align="right">
        <th>아황산가스농도(ppm)</th>
        <td align="left" id="jn_sulfurousacidgas"></td>
    </tr>
    <tr align="right">
        <th>통합대기환경등급</th>
        <td align="left" id="jn_totalat_class"></td>
    </tr>
    <tr align="right">
        <th>통합대기환경지수</th>
        <td align="left" id="jn_totalat_index"></td>
    </tr>
    <tr align="right">
        <th>지수결정물질</th>
        <td align="left" id="jn_mainarticle"></td>
    </tr>
	
	-->

</table>

<script>

    var xhr0 = new XMLHttpRequest();
    var xhr1 = new XMLHttpRequest();
    var xhr2 = new XMLHttpRequest();

    xhr0.open(
        'GET',
        'http://openapi.seoul.go.kr:8088/7755574b766d6a633433786e664f42/xml/RealtimeCityAir/1/5/%EB%8F%99%EB%B6%81%EA%B6%8C/%EC%A4%91%EB%9E%91%EA%B5%AC',
        true
    );
    xhr1.open(
        'GET',
        'http://openapi.seoul.go.kr:8088/7755574b766d6a633433786e664f42/xml/RealtimeCityAir/1/5/%EB%8F%99%EB%82%A8%EA%B6%8C/%EC%84%9C%EC%B4%88%EA%B5%AC',
        true
    );
    xhr2.open(
        'GET',
        'http://openapi.seoul.go.kr:8088/7755574b766d6a633433786e664f42/xml/RealtimeCityAir/1/5/%EB%8F%99%EB%82%A8%EA%B6%8C/%EA%B0%95%EB%82%A8%EA%B5%AC',
        true
    );
	
	xhr1.onload = function () {
        if (xhr1.status === 200) {
            // alert(xhr1.responseText);

            var xmlDoc = xhr1.responseXML;

            var value = xmlDoc.getElementsByTagName("row")[0];

            // document.getElementById("my1").innerHTML = xmlDoc.getElementsByTagName("list_total_count")[0].childNodes[0].nodeValue;
            // document.getElementById("my2").innerHTML = xmlDoc.getElementsByTagName("RESULT")[0].getElementsByTagName("CODE")[0].childNodes[0].nodeValue;
            // document.getElementById("my3").innerHTML = xmlDoc.getElementsByTagName("RESULT")[0].getElementsByTagName("MESSAGE")[0].childNodes[0].nodeValue;

            document.getElementById("gn_measuredate").innerHTML =
                value.getElementsByTagName("MSRDT")[0].childNodes[0].nodeValue;
            // document.getElementById("gn_divisionarea").innerHTML =
            //     value.getElementsByTagName("MSRRGN_NM")[0].childNodes[0].nodeValue;
            document.getElementById("gn").innerHTML =
                value.getElementsByTagName("MSRSTE_NM")[0].childNodes[0].nodeValue;
            document.getElementById("gn_finedust").innerHTML =
                value.getElementsByTagName("PM10")[0].childNodes[0].nodeValue;
            document.getElementById("gn_ultrafinedust").innerHTML =
                value.getElementsByTagName("PM25")[0].childNodes[0].nodeValue;
            document.getElementById("gn_ozone").innerHTML =
                value.getElementsByTagName("O3")[0].childNodes[0].nodeValue;
			/*
            document.getElementById("gn_nitrogendioxide").innerHTML =
                value.getElementsByTagName("NO2")[0].childNodes[0].nodeValue;
            document.getElementById("gn_carbonmonoxide").innerHTML =
                value.getElementsByTagName("CO")[0].childNodes[0].nodeValue;
            document.getElementById("gn_sulfurousacidgas").innerHTML =
                value.getElementsByTagName("SO2")[0].childNodes[0].nodeValue;
            document.getElementById("gn_totalat_class").innerHTML =
                value.getElementsByTagName("IDEX_NM")[0].childNodes[0].nodeValue;
            document.getElementById("gn_totalat_index").innerHTML =
                value.getElementsByTagName("IDEX_MVL")[0].childNodes[0].nodeValue;
            document.getElementById("gn_mainarticle").innerHTML =
                value.getElementsByTagName("ARPLT_MAIN")[0].childNodes[0].nodeValue;
			*/

            if
            (parseInt(value.getElementsByTagName("PM10")[0].childNodes[0].nodeValue) > 50) {
                document.getElementById("gn_finedust").style.backgroundColor
                    = "red";
            }
            else
                document.getElementById("gn_finedust").style.backgroundColor
                    = "skyblue";

            if (parseInt(value.getElementsByTagName("PM25")[0].childNodes[0].nodeValue) > 35)
                document.getElementById("gn_ultrafinedust").style.backgroundColor = "red";
            else
                document.getElementById("gn_ultrafinedust").style.backgroundColor = "skyblue";

            if
            (parseInt(value.getElementsByTagName("O3")[0].childNodes[0].nodeValue) > 0.06)
				document.getElementById("gn_ozone").style.backgroundColor = "red";
            else
                document.getElementById("gn_ozone").style.backgroundColor = "skyblue";

        }
        else
            alert('Request failed: ' + xhr1.status);
    };


    xhr0.onload = function () {
        if (xhr0.status === 200) {
            // alert(xhr0.responseText);

            var xmlDoc = xhr0.responseXML;

            var value = xmlDoc.getElementsByTagName("row")[0];

            // document.getElementById("my1").innerHTML = xmlDoc.getElementsByTagName("list_total_count")[0].childNodes[0].nodeValue;
            // document.getElementById("my2").innerHTML = xmlDoc.getElementsByTagName("RESULT")[0].getElementsByTagName("CODE")[0].childNodes[0].nodeValue;
            // document.getElementById("my3").innerHTML = xmlDoc.getElementsByTagName("RESULT")[0].getElementsByTagName("MESSAGE")[0].childNodes[0].nodeValue;

            document.getElementById("jn_measuredate").innerHTML =
                value.getElementsByTagName("MSRDT")[0].childNodes[0].nodeValue;
            // document.getElementById("jn_divisionarea").innerHTML =
            //     value.getElementsByTagName("MSRRGN_NM")[0].childNodes[0].nodeValue;
            document.getElementById("jn").innerHTML =
                value.getElementsByTagName("MSRSTE_NM")[0].childNodes[0].nodeValue;
            document.getElementById("jn_finedust").innerHTML =
                value.getElementsByTagName("PM10")[0].childNodes[0].nodeValue;
            document.getElementById("jn_ultrafinedust").innerHTML =
                value.getElementsByTagName("PM25")[0].childNodes[0].nodeValue;
            document.getElementById("jn_ozone").innerHTML =
                value.getElementsByTagName("O3")[0].childNodes[0].nodeValue;
			/*
            document.getElementById("jn_nitrogendioxide").innerHTML =
                value.getElementsByTagName("NO2")[0].childNodes[0].nodeValue;
            document.getElementById("jn_carbonmonoxide").innerHTML =
                value.getElementsByTagName("CO")[0].childNodes[0].nodeValue;
            document.getElementById("jn_sulfurousacidgas").innerHTML =
                value.getElementsByTagName("SO2")[0].childNodes[0].nodeValue;
            document.getElementById("jn_totalat_class").innerHTML =
                value.getElementsByTagName("IDEX_NM")[0].childNodes[0].nodeValue;
            document.getElementById("jn_totalat_index").innerHTML =
                value.getElementsByTagName("IDEX_MVL")[0].childNodes[0].nodeValue;
            document.getElementById("jn_mainarticle").innerHTML =
                value.getElementsByTagName("ARPLT_MAIN")[0].childNodes[0].nodeValue;
			*/
            if (parseInt(value.getElementsByTagName("PM10")[0].childNodes[0].nodeValue) > 50)
                document.getElementById("jn_finedust").style.backgroundColor = "red";
            else
                document.getElementById("jn_finedust").style.backgroundColor = "skyblue";

            if (parseInt(value.getElementsByTagName("PM25")[0].childNodes[0].nodeValue) > 35)
                document.getElementById("jn_ultrafinedust").style.backgroundColor = "red";
            else
                document.getElementById("jn_ultrafinedust").style.backgroundColor = "skyblue";

            if (parseInt(value.getElementsByTagName("O3")[0].childNodes[0].nodeValue) > 0.06)
                document.getElementById("jn_ozone").style.backgroundColor = "red";
            else
                document.getElementById("jn_ozone").style.backgroundColor = "skyblue";

        }
        else
            alert('Request failed: ' + xhr0.status);
    };
	
	
    xhr2.onload = function () {
        if (xhr2.status === 200) {
            // alert(xhr0.responseText);

            var xmlDoc = xhr2.responseXML;

            var value = xmlDoc.getElementsByTagName("row")[0];

            // document.getElementById("my1").innerHTML = xmlDoc.getElementsByTagName("list_total_count")[0].childNodes[0].nodeValue;
            // document.getElementById("my2").innerHTML = xmlDoc.getElementsByTagName("RESULT")[0].getElementsByTagName("CODE")[0].childNodes[0].nodeValue;
            // document.getElementById("my3").innerHTML = xmlDoc.getElementsByTagName("RESULT")[0].getElementsByTagName("MESSAGE")[0].childNodes[0].nodeValue;

            document.getElementById("sh_measuredate").innerHTML =
                value.getElementsByTagName("MSRDT")[0].childNodes[0].nodeValue;
            // document.getElementById("jn_divisionarea").innerHTML =
            //     value.getElementsByTagName("MSRRGN_NM")[0].childNodes[0].nodeValue;
            document.getElementById("sh").innerHTML =
                value.getElementsByTagName("MSRSTE_NM")[0].childNodes[0].nodeValue;
            document.getElementById("sh_finedust").innerHTML =
                value.getElementsByTagName("PM10")[0].childNodes[0].nodeValue;
            document.getElementById("sh_ultrafinedust").innerHTML =
                value.getElementsByTagName("PM25")[0].childNodes[0].nodeValue;
            document.getElementById("sh_ozone").innerHTML =
                value.getElementsByTagName("O3")[0].childNodes[0].nodeValue;
			/*
            document.getElementById("jn_nitrogendioxide").innerHTML =
                value.getElementsByTagName("NO2")[0].childNodes[0].nodeValue;
            document.getElementById("jn_carbonmonoxide").innerHTML =
                value.getElementsByTagName("CO")[0].childNodes[0].nodeValue;
            document.getElementById("jn_sulfurousacidgas").innerHTML =
                value.getElementsByTagName("SO2")[0].childNodes[0].nodeValue;
            document.getElementById("jn_totalat_class").innerHTML =
                value.getElementsByTagName("IDEX_NM")[0].childNodes[0].nodeValue;
            document.getElementById("jn_totalat_index").innerHTML =
                value.getElementsByTagName("IDEX_MVL")[0].childNodes[0].nodeValue;
            document.getElementById("jn_mainarticle").innerHTML =
                value.getElementsByTagName("ARPLT_MAIN")[0].childNodes[0].nodeValue;
			*/
            if (parseInt(value.getElementsByTagName("PM10")[0].childNodes[0].nodeValue) > 50)
                document.getElementById("sh_finedust").style.backgroundColor = "red";
            else
                document.getElementById("sh_finedust").style.backgroundColor = "skyblue";

            if (parseInt(value.getElementsByTagName("PM25")[0].childNodes[0].nodeValue) > 35)
                document.getElementById("sh_ultrafinedust").style.backgroundColor = "red";
            else
                document.getElementById("sh_ultrafinedust").style.backgroundColor = "skyblue";

            if (parseInt(value.getElementsByTagName("O3")[0].childNodes[0].nodeValue) > 0.06)
                document.getElementById("sh_ozone").style.backgroundColor = "red";
            else
                document.getElementById("sh_ozone").style.backgroundColor = "skyblue";

        }
        else
            alert('Request failed: ' + xhr2.status);
    };

    xhr0.send();
    xhr1.send();
    xhr2.send();

</script>


</body>
</html>